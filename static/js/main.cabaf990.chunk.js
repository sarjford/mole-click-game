(this["webpackJsonpmole-game-odk"]=this["webpackJsonpmole-game-odk"]||[]).push([[0],{12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),s=c.n(r),i=(c(12),c(6)),o=c(2),u=c.p+"static/media/mole.cbaf3b29.png";function l(e){return Math.floor(Math.random()*(e-1)+1)}var j=c(0);var b=function(e){var t=e.index,c=e.removeMole,a=e.playing,r=e.setScore,s=Object(n.useState)(!1),i=Object(o.a)(s,2),b=i[0],f=i[1];return Object(n.useEffect)((function(){if(a){var e=1e3*l(4),n=setTimeout((function(){c(t)}),e);return function(){return clearTimeout(n)}}}),[a,t,c]),Object(j.jsx)("div",{onClick:function(){if(a){f(!0);var e=setTimeout((function(){f(!1),r((function(e){return e+1})),c(t)}),300);return function(){return clearTimeout(e)}}},className:"".concat(b&&"hit"),children:Object(j.jsx)("img",{src:u,alt:"Brown mole illustration"})})},f=function(e,t){var c=Object(n.useState)((function(){if("undefined"!==typeof window){var c=localStorage.getItem(e);return null!==c?JSON.parse(c):t}})),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,s]};var d=function(){var e=f("gameBoard",new Array(24).fill(!1)),t=Object(o.a)(e,2),c=t[0],a=t[1],r=f("time",60),s=Object(o.a)(r,2),u=s[0],d=s[1],O=f("score",0),m=Object(o.a)(O,2),h=m[0],x=m[1],v=Object(n.useState)(!1),p=Object(o.a)(v,2),g=p[0],S=p[1],k=Object(n.useRef)(60),N=Object(n.useRef)(null);Object(n.useEffect)((function(){k.current=u}));var E=Object(n.useCallback)((function(){a((function(e){var t=Object(i.a)(e),c=l(6);return t.reduce((function(e,t,c){return t?e:e.concat(c)}),[]).sort((function(){return.5-Math.random()})).slice(0,c).forEach((function(e){t[e]=!0})),t}))}),[a]),T=Object(n.useCallback)((function(e){a((function(t){var c=Object(i.a)(t);return c[e]=!1,c}))}),[a]),w=Object(n.useCallback)((function(){E(),S(!0),N.current=setInterval((function(){d(k.current-1),E()}),1e3)}),[E,d]),y=Object(n.useCallback)((function(){d(60),a(new Array(24).fill(!1)),x(0)}),[d,a,x]);return Object(n.useEffect)((function(){u<=0&&(S(!1),clearInterval(N.current))}),[u,S]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"mole click game"})}),Object(j.jsxs)("main",{children:[Object(j.jsxs)("section",{className:"game-stats",children:[Object(j.jsxs)("div",{children:["Score",Object(j.jsx)("span",{children:h})]}),Object(j.jsxs)("div",{children:["Time",Object(j.jsx)("span",{children:u})]})]}),Object(j.jsxs)("section",{className:"game-board ".concat(!g&&"game-finished"),"data-testid":"game-board",children:[Object(j.jsx)("span",{className:"top left"}),Object(j.jsx)("span",{className:"top right"}),Object(j.jsx)("span",{className:"bottom left"}),c.map((function(e,t){return Object(j.jsx)("div",{className:"mole-home",children:e&&Object(j.jsx)(b,{removeMole:T,index:t,setScore:x,playing:g})},t)}))]}),Object(j.jsx)("section",{className:"game-buttons",children:0===u?Object(j.jsx)("button",{onClick:y,children:"RESET GAME"}):Object(j.jsx)("button",{onClick:w,disabled:g,children:"START"})})]})]})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(d,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.cabaf990.chunk.js.map